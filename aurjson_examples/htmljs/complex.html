<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" charset="utf-8">
var rpcurl = "http://aur.archlinux.org/rpc.php?callback=?";
   $(document).ready(function() {
         $("#go").click(function() {
            $.ajax({
               url: rpcurl,
               type: "GET",
               dataType: "jsonp",
               data: {"type": $("#qtype").val(), "arg":$("#arg").val()},
               success: function(data) {
                  var output = "<br />";
                  if (data['type'] == 'search' || data['type'] == 'info') {
                     if (data['results'].length == null) {
                         var darray = new Array();
                         darray.push(data['results']);
                         data['results'] = darray;
                     }
                     for each (var item in data['results']) {
                        output += 'Package: <br />\n';
                        for (var elem in item) {
                            output += ' - ' + elem + ': ' + item[elem] + '<br />\n';
                        }
                        output += '<br />\n';
                     }
                  }   
                  else if (data['type'] == 'error') {
                     output += 'Error: ' + data['results'];
                  }
                  else {
                     output += 'No Data!';
                  }
                  $("#response").html(output);
               },
               error: function(o,err,e) {
                  alert('Error: '+err);
               }
            });
            return false;
         });
      });
</script>
</head>
<body>


<form>
<label for="qtype">Query Type:</label>
<select name="qtype" id="qtype">
   <option value="search">Search</option>
   <option value="info">Info</option>
</select>
<br />
<br />
<label for="arg">Args:</label>
<input id="arg" type="text" name="arg" />
<br />
<br />
<input id="go" type="submit" name="action" value="Run Query" />
</form>
<div id="response">&nbsp;</div>
</body>
</html>

